<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Getting Started Using the EIA&#39;s Web API by TimothyThomas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Getting Started Using the EIA&#39;s Web API</h1>
      <h2 class="project-tagline">A How-To Guide for Accessing the Open Data Share by the U.S. Energy Information Administration</h2>
    </section>

    <section class="main-content">
      <h3>
<a id="purpose" class="anchor" href="#purpose" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Purpose</h3>

<p>This guide will show you how to get started using the <a href="www.eia.gov/opendata">web API</a> provided by the <a href="www.eia.gov">U.S. Energy Information Administration</a> to access interesting data and statistics.  This API provides access to all kinds of interesting data related to energy usage in the U.S.  For example, you can access data on electricity consumption and pricing, use of natural resources like oil, coal and natural gas, and the energy outlook on both a short and long-term basis you can even get hourly updates on the day-ahead demand forecast for electricity usage.  Much of this data is available on a regional level or nationwide.  There is even a large set of data related to international energy usage. </p>

<p>There is so much data available and types of queries you can make that it may seem overwhelming.  To narrow the scope down a bit for the purpose of showing you how to use this huge database and get what you want out of it, we'll be focusing specifically on nuclear power generation in the U.S.  </p>

<h3>
<a id="obtaining-an-api-key" class="anchor" href="#obtaining-an-api-key" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Obtaining an API Key</h3>

<p>Getting an API key is the first step to interacting with the EIA database.  Don't worry, it's free!  You will include this key in the URL query string when making requests to the site.  To get your key, first you need to go register at the EIA website.  The purpose of this registering and getting the key is so that the EIA can notify you of any changes to the API.  They don't state it on their website, but they might also use it to throttle your usage in case you are making an excessive number of requests.</p>

<p>So <a href="www.eia.gov/opendata/register.cfm">go here now</a> to get registered and receive your key!  Here is what the registration form looks like:</p>

<p><img src="https://timothythomas.github.io/images/register.png" alt="registration"></p>

<p>Enter your e-mail, agree to the terms and click "register."  Then check your e-mail and you should have received something like this:</p>

<p><img src="https://timothythomas.github.io/images/api_key.png" alt="API Key E-mail"></p>

<p>That long alpha-numeric string (I've partially blacked out a portion of mine) is your API key.</p>

<h3>
<a id="api-documentation" class="anchor" href="#api-documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API Documentation</h3>

<p>The EIA's <a href="www.eia.gov/opendata/commands.cfm">API documentation</a> does not provide a great description of the different types of queries that can be made.  If you visit the documentation page you will see terms like "Series Query", "Geoset Query" and "Relation Query" accompanied with a lot of technical jargon.  <strong>We are going to ignore all of this for now.</strong>  For someone just getting started, I would recommend a different approach.  </p>

<p>The important thing to know for now is that most of the queries that are performed return a time series of data.  Think of a two-column table with the first column being a series of dates and the next column being the value we are interested in.  For example, we could request the yearly percentage of electricity generation that comes from nuclear power plants.</p>

<h3>
<a id="your-first-api-call----percentage-of-electricity-generated-by-nuclear-power" class="anchor" href="#your-first-api-call----percentage-of-electricity-generated-by-nuclear-power" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Your First API Call -- Percentage of Electricity Generated by Nuclear Power</h3>

<p>So let's walk through how we might request how much of the nation's electricity production came from nuclear power plants.  Fortunately, the EIA provides a neat tool called the API Browser.  Go to the <a href="http://www.eia.gov/opendata/qb.cfm">API Browser page</a>.  Here you will see a list of the different data sets available.  </p>

<p><img src="https://timothythomas.github.io/images/api_browser.png" alt="API Browser"></p>

<p>Think of this like the top level in a big data hierarchy.  Each of the "children categories" is a link to a group of related data.  This is the best way to navigate the API and find what you're looking for.  The coolest part is that it shows you right on the page how to make the API call to what you're currently looking at.  So let's do that.  Let's make a call to this page and see if we can receive a JSON object giving us each of these top-level categories.  Write and execute the following javascript code.  </p>

<p><code>var req = new XMLHttpRequest();</code>
<code>var url = "http://api.eia.gov/category/?";</code>
<code>var api_key = "api_key=45AF218653356B8673FD6F039FC9AB94";</code>
<code>var query = "&amp;category_id=371";</code>
<code>req.open("GET", url + api_key + query, true);</code>
<code>req.addEventListener('load', function(){</code>
<code>var response = JSON.parse(req.responseText);</code>
<code>console.log(response);</code>
<code>req.send(null);</code></p>

<p>If we run the above code and examine the output in the console, we can see that we received a JSON object the the name "EIA Data Sets" and that there is an object corresponding to each of the children categories.</p>

<p><img src="https://timothythomas.github.io/images/cat_resp.png" alt="Category Response"></p>

<p>EIA Data Sets &gt; Total Energy &gt; Nuclear</p>

      <footer class="site-footer">

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
